# 問題
043 - Maze Challenge with Lack of Sleep（★4）
https://atcoder.jp/contests/typical90/tasks/typical90_aq

# 解き方
- (単語定義)最小count: スタートからそのマスまでの移動する方向が変わる回数の最小値
- イメージとしては、BNF/ダイクストラ法のようなイメージ
    - 最小値＆木構造（迷路も木構造ととらえられる）なので、そこから解法は推定する。
- Startから始めて、MAP全体を走査して、そこまでの最小countを埋めていく。
    - Goalは任意のマスになりうるので、Goalのみまでの最短countだけでなく、全てのマスを埋めてしまう考え方でOK。
- 走査の方法が問題。
## 解き方1
- 参考リンク
    - https://ebinafactory.hatenablog.com/entry/2021/10/17/183736
- キューに対して、曲がって一本道の時には、いけるところまでは一気に追加していく。
    - 1マスずつキューに入れ、1マスずつ取り出す方法でやっていたら、キューに最小値順に入らなくて、ずっと解けなかった。
        - キューを順序付きにする方法も考えたが、TLEしてしまう。
    - 一本道に追加していけば、キューは最小値順に入るので、先頭から取り出してい行けば良い。
- 注意点
    - 一度記録があっても、同じ数字の場合には、そのマスを飛び越えて端まで行く必要がある。
        - あるマスに2つ以上の方向から、同時にクロスして入ってくる場合があるイメージ
    - (後から思ったこと)Goalかどうかを都度確認して、Goal時点の数を返せば十分では？（最悪計算量は変わらないので、問題を解くにはあまり関係ないけど、多くの場合は速くなりそう。）
## 解き方2
- 想定解法のように、各マスに対して上下左右それぞれを向くまでの最短経路を計算していく。
- そうすれば、あるマスと向きに対する最短経路を考えるときに、そのマスと向きについての最短経路を考えるために必要なマスと向きの情報（前のマスになりうるマスと向き）の情報は全てキューに入っている。
- ただし、PythonではTLEギリギリ
    - 通った版
        - https://atcoder.jp/contests/typical90/submissions/35980595
    - 通らなかった版
        - https://atcoder.jp/contests/typical90/submissions/35754936

# 実装方針
## 解き方1
- 探索については、最短カウントを格納するmapを用意する。
- そのmapには、当初は"#"を格納しておく。
- 進行方向の管理はリストに入れておいて、それを順番に呼び出す形
- startは-1を入れる。
- 後はそれぞれ上記の解き方1の通り

## 解き方2
- ans_mazeは4×W×H
- 全マス、全方向について埋めていく
- 最後は、答えのマスについて、全方向のうちどの方向が最小値かを求める。

# 実装例
## 解き方1
- https://atcoder.jp/contests/typical90/submissions/35635018
## 解き方2

# 参考リンク
-  ebinafactoryさんブログ：競プロ典型 90 問：043 - Maze Challenge with Lack of Sleep（★4）
    - https://ebinafactory.hatenablog.com/entry/2021/10/17/183736
- ARMERIAさんブログ：01-BFSのちょっと丁寧な解説
    - https://betrue12.hateblo.jp/entry/2018/12/08/000020

