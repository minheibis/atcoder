# 012 - Red Painting（★4）
## 問題

## 解き方
パット見は、Union Findっぽい問題
- 判定クエリ(ti=2)自体は、同じ集合であるかの判定問題そのもの。
- ただし、連結クエリ(ti=1)部分が、ちょっと癖がある。

連結クエリについて、具体的には、
- 隣接する上下左右のマスについて、
	- 0個が赤色である場合、それは新たな集合になる。
	- 1つが赤色である場合、そのマス自身がその集合に加わることになる。
	- 2つが赤色である場合、その2つの集合が1つの集合となり、そのマス自身もその集合に加わる。
	- 3つが赤色である場合、その3つの集合が1つの集合となり、そのマス自身もその集合に加わる。
	- 4つが赤色である場合、その4つの集合が1つの集合となり、そのマス自身もその集合に加わる。

# 実装方針
- 全体のUninon-Find木は、長さH*Wの一次元配列で管理
	- index = (r - 1) * W + c - 1
		- まずは横に数えていく形のインデックスに変換しておく。
	- 同じ集合に属するかの判定、および、集合の併合を行う。
- 赤色かどうかはセットで管理
	- 赤色のマスのインデックスをセットに加えていく形
- 連結クエリにおいては、指定されたマス(x)を赤色に変換した後、そのマスの上下左右のマス(y)が赤色だった場合には、xとyを同じグループとしてまとめる操作を行う。

## 実装例
https://atcoder.jp/contests/typical90/submissions/34887973

## UnionFindの計算量について
難しそうなので割愛…
Union Find の計算量
- https://37zigen.com/union-find-complexity-1/
Union Find の計算量の話
- https://qiita.com/kopricky/items/3e5847ab1451fe990367
α(n) とお近づきになりたい人のための記事
- https://rsk0315.hatenablog.com/entry/2020/11/14/170423

## 参考リンク
- PythonでのUnion-Find（素集合データ構造）の実装と使い方
	- https://note.nkmk.me/python-union-find/
- Union find(素集合データ構造)の解説
	- https://www.slideshare.net/chokudai/union-find-49066733/1
- B - Union Find
	- https://atcoder.jp/contests/atc001/tasks/unionfind_a
